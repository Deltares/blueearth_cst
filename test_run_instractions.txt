

# Command-line tool test run instructions

Prequisites:
- Install conda 
  
- Install julia
  https://julialang.org/downloads/

1) Install Wflow.jl

1) Install Blueearth_cst from the github repository:
https://github.com/Deltares/blueearth_cst

2) Install Blueearth-cst environment using conda:
onda env create -f environment.yml

3) Copy /examples folder to Blueearth-cst directory
/path_to_blueearth_cst/examples


4) From command prompt activate Blueearth-cst and go to folder
activate Blueearth-cst
cd /path_to_blueearth_cst/

5) Run test snakefile

run_snake_test.cmd

		call activate blueearth-cst

		rem Snakefile_model_creation
		snakemake -s Snakefile_model_creation --configfile config/snake_config_model_test.yml  --dag | dot -Tpng > dag_all.png

		snakemake --unlock -s Snakefile_model_creation --configfile config/snake_config_model_test.yml
		snakemake all -c 1 -s Snakefile_model_creation --configfile config/snake_config_model_test.yml

		rem Snakefile_climate_experiment
		snakemake -s Snakefile_climate_experiment --configfile config/snake_config_model_test.yml  --dag | dot -Tpng > dag_climate.png

		snakemake --unlock -s Snakefile_climate_experiment --configfile config/snake_config_model_test.yml
		snakemake all -c 1 -s Snakefile_climate_experiment --configfile config/snake_config_model_test.yml --dry-run

		rem snakemake -s Snakefile_models all -c 1 --keep-going --until add_gauges --report --dryrun 
		rem keep going is when parallel runs to keep going parallel if one series goes wrong
		rem dryrun is to tell what it will be doing without actually running
		rem until - still the whole workflow but not all jobs 
		pause


HydroMT installation (developer)

julia -e "using Wflow; Wflow.run()" "./examples/Gabon/hydrology_model/run_climate_experiment_01/wflow_sbm_rlz_3_cst_1.toml"




